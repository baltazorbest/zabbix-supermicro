<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<style type="text/css">

   p.desc{
     white-space:nowrap;
   }

   table.pretty {
    margin: 1em 1em 1em 2em;
    background: whitesmoke;
    border-collapse: collapse;
   }

   table.pretty th, table.pretty td {
    border: 1px gainsboro solid;
    padding: 0.2em;
   }

   table.pretty th {
    background: gainsboro;
    text-align: left;
   }

   table.pretty caption {
    margin-left: inherit;
    margin-right: inherit;
    white-space:nowrap;
   }
  </style>
<body>
<h2>Macro Overview</h2>

  The following macros can be overloaded on host level.
  <table class="pretty">
<tr>
<th>Name</th><th>Default</th>
</tr>
<tr>
<td>{$IPMI_HOST}</td><td>127.0.0.1</td>
</tr>
<tr>
<td>{$IPMI_PASS}</td><td>undefined</td>
</tr>
<tr>
<td>{$IPMI_USER}</td><td>monitor</td>
</tr>
</table>
<h1>Static Elements</h1>
<h2>Trigger Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Description</th><th>Priority</th><th>Expression</th><th>Dependencies</th>
</tr>
<tr>
<td>Chassis Intrusion</td><td></td><td style="background-color:#FFFF00;">Warning</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Chassis Intrusion"].str(inactive,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Cooling/Fan Fault</td><td></td><td style="background-color:#FF0000;">Average</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Cooling/Fan Fault"].str(false,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Drive Fault</td><td></td><td style="background-color:#FF0000;">Average</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Drive Fault"].str(false,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Front-Panel Lockout</td><td></td><td style="background-color:#FFFF00;">Warning</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Front-Panel Lockout"].str(inactive,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Main Power Fault</td><td></td><td style="background-color:#FF0000;">Average</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Main Power Fault"].str(false,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Power Control Fault</td><td></td><td style="background-color:#FF0000;">Average</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Power Control Fault"].str(false,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Power Interlock</td><td></td><td style="background-color:#FFFF00;">Warning</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Power Interlock"].str(inactive,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Power Overload</td><td></td><td style="background-color:#FF0000;">Average</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Power Overload"].str(false,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Power Restore Policy</td><td></td><td style="background-color:#FFFF00;">Warning</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Power Restore Policy"].str(previous,1)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Power Status</td><td></td><td style="background-color:#FF0000;">Average</td><td><tt>{Custom - HW - Supermicro IPMI:supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "System Power"].str(on,1)}=0</tt></td><td><tt></tt></td>
</tr>
</table>
<h2>Graph Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Elements</th>
</tr>
<tr>
<td>Power Usage</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Average power reading over sample period"]<br>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Instantaneous power reading"]<br>
</tt></td>
</tr>
</table>
<h2>Item Overview</h2>
<table class="pretty">
<tr>
<th>Type</th><th>Name</th><th>Key</th><th>Description</th><th>Interval (sec)</th><th>History Days</th><th>Trend Days</th>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Power Usage - Average</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Average power reading over sample period"]</tt></td><td></td><td>5m</td><td>5d</td><td>90d</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Chassis Intrusion</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Chassis Intrusion"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Cooling/Fan Fault</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Cooling/Fan Fault"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Drive Fault</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Drive Fault"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Front-Panel Lockout</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Front-Panel Lockout"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Power Usage - Current</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Instantaneous power reading"]</tt></td><td></td><td>5m</td><td>5d</td><td>90d</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Last Power Event</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Last Power Event"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Main Power Fault</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Main Power Fault"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Power Control Fault</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Power Control Fault"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Power Interlock</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Power Interlock"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Power Overload</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Power Overload"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>Power Restore Policy</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "Power Restore Policy"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>System Power</td><td><tt>supermicro_ipmi["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "System Power"]</tt></td><td></td><td>5m</td><td>90d</td><td>0</td>
</tr>
</table>
<h1>Discovery rule "Supermicro Miscellaneous"</h1>
<table class="pretty">
<tr>
<th>Name</th><th>Value</th>
</tr>
<tr>
<td>Name</td><td>Supermicro Miscellaneous</td>
</tr>
<tr>
<td>Key</td><td>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "discover","^(VRM|Peripheral|MB_10G|System).*Temp$",misc]</td>
</tr>
<tr>
<td>Type</td><td>
<p class="desc">External check</p>
</td>
</tr>
<tr>
<td>Delay</td><td>12h</td>
</tr>
</table>
<h2>Trigger Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Description</th><th>Priority</th><th>Expression</th><th>Dependencies</th>
</tr>
<tr>
<td>{#ITEM} critical temparature &lt;{#UP_NON_CRITICAL}, &gt;{#UP_CRITICAL})</td><td></td><td style="background-color:#efefef;">Not classified</td><td><tt>({Custom - HW - Supermicro IPMI:supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",misc].last()} &gt; {#UP_CRITICAL}) or&#13;
({Custom - HW - Supermicro IPMI:supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",misc].last()} &lt; {#UP_NON_CRITICAL})</tt></td><td><tt></tt></td>
</tr>
</table>
<h2>Graph Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Elements</th>
</tr>
<tr>
<td>{#ITEM} Misc Temperature</td><td><tt>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",misc]<br>
</tt></td>
</tr>
</table>
<h2>Item Overview</h2>
<table class="pretty">
<tr>
<th>Type</th><th>Name</th><th>Key</th><th>Description</th><th>Interval (sec)</th><th>History Days</th><th>Trend Days</th>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>{#ITEM} Temperatures</td><td><tt>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",misc]</tt></td><td></td><td>5m</td><td>7d</td><td>90d</td>
</tr>
</table>
<h1>Discovery rule "Supermciro DIMMS"</h1>
<table class="pretty">
<tr>
<th>Name</th><th>Value</th>
</tr>
<tr>
<td>Name</td><td>Supermciro DIMMS</td>
</tr>
<tr>
<td>Key</td><td>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "discover","^.*-DIMM.*$",dimms]</td>
</tr>
<tr>
<td>Type</td><td>
<p class="desc">External check</p>
</td>
</tr>
<tr>
<td>Delay</td><td>12h</td>
</tr>
</table>
<h2>Trigger Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Description</th><th>Priority</th><th>Expression</th><th>Dependencies</th>
</tr>
<tr>
<td>{#ITEM} critical temparature &lt;{#UP_NON_CRITICAL}, &gt;{#UP_CRITICAL})</td><td></td><td style="background-color:#efefef;">Not classified</td><td><tt>({Custom - HW - Supermicro IPMI:supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",dimms].last()} &gt; {#UP_CRITICAL}) or&#13;
({Custom - HW - Supermicro IPMI:supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",dimms].last()} &lt; {#UP_NON_CRITICAL})</tt></td><td><tt></tt></td>
</tr>
</table>
<h2>Graph Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Elements</th>
</tr>
<tr>
<td>{#ITEM} DIMM Temperature</td><td><tt>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",dimms]<br>
</tt></td>
</tr>
</table>
<h2>Item Overview</h2>
<table class="pretty">
<tr>
<th>Type</th><th>Name</th><th>Key</th><th>Description</th><th>Interval (sec)</th><th>History Days</th><th>Trend Days</th>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>{#ITEM} Temperature</td><td><tt>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",dimms]</tt></td><td></td><td>5m</td><td>90d</td><td>365d</td>
</tr>
</table>
<h1>Discovery rule "Supermciro CPUs"</h1>
<table class="pretty">
<tr>
<th>Name</th><th>Value</th>
</tr>
<tr>
<td>Name</td><td>Supermciro CPUs</td>
</tr>
<tr>
<td>Key</td><td>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "discover","^CPU\d+ Temp$",cpus]</td>
</tr>
<tr>
<td>Type</td><td>
<p class="desc">External check</p>
</td>
</tr>
<tr>
<td>Delay</td><td>12h</td>
</tr>
</table>
<h2>Trigger Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Description</th><th>Priority</th><th>Expression</th><th>Dependencies</th>
</tr>
<tr>
<td>{#ITEM} critical temp &lt;{#UP_NON_CRITICAL}, &gt;{#UP_CRITICAL})</td><td></td><td style="background-color:#efefef;">Not classified</td><td><tt>({Custom - HW - Supermicro IPMI:supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",cpus].last()} &gt; {#UP_CRITICAL}) or&#13;
({Custom - HW - Supermicro IPMI:supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",cpus].last()} &lt; {#UP_NON_CRITICAL})</tt></td><td><tt></tt></td>
</tr>
</table>
<h2>Graph Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Elements</th>
</tr>
<tr>
<td>{#ITEM} CPU Temperature</td><td><tt>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",cpus]<br>
</tt></td>
</tr>
</table>
<h2>Item Overview</h2>
<table class="pretty">
<tr>
<th>Type</th><th>Name</th><th>Key</th><th>Description</th><th>Interval (sec)</th><th>History Days</th><th>Trend Days</th>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>{#ITEM} Temperature</td><td><tt>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",cpus]</tt></td><td></td><td>5m</td><td>5d</td><td>14d</td>
</tr>
</table>
<h1>Discovery rule "Supermciro FANS"</h1>
<table class="pretty">
<tr>
<th>Name</th><th>Value</th>
</tr>
<tr>
<td>Name</td><td>Supermciro FANS</td>
</tr>
<tr>
<td>Key</td><td>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "discover","^FAN.*$",fans]</td>
</tr>
<tr>
<td>Type</td><td>
<p class="desc">External check</p>
</td>
</tr>
<tr>
<td>Delay</td><td>12h</td>
</tr>
</table>
<h2>Trigger Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Description</th><th>Priority</th><th>Expression</th><th>Dependencies</th>
</tr>
<tr>
<td>{#ITEM} critical rotation &lt;{#UP_NON_CRITICAL}, &gt;{#UP_CRITICAL})</td><td></td><td style="background-color:#efefef;">Not classified</td><td><tt>({Custom - HW - Supermicro IPMI:supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",fans].last()} &gt; {#UP_CRITICAL}) or&#13;
({Custom - HW - Supermicro IPMI:supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",fans].last()} &lt; {#UP_NON_CRITICAL})</tt></td><td><tt></tt></td>
</tr>
</table>
<h2>Graph Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Elements</th>
</tr>
<tr>
<td>{#ITEM} FAN Temperature</td><td><tt>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",fans]<br>
</tt></td>
</tr>
</table>
<h2>Item Overview</h2>
<table class="pretty">
<tr>
<th>Type</th><th>Name</th><th>Key</th><th>Description</th><th>Interval (sec)</th><th>History Days</th><th>Trend Days</th>
</tr>
<tr>
<td>
<p class="desc">External check</p>
</td><td>{#ITEM} rotation</td><td><tt>supermicro_ipmi_sensors["{$IPMI_HOST}", "{$IPMI_USER}", "{$IPMI_PASS}", "get","{#ITEM}",fans]</tt></td><td></td><td>5m</td><td>3d</td><td>14d</td>
</tr>
</table>
</body>
</html>
